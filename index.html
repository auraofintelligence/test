<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aura √ó Luke ‚Äî Joyful Responsible Abundance</title>
  <meta name="description" content="Aura of Intelligence √ó Luke Catalyst ‚Äî labs, XR, blockchain, STEAM education, joyful responsible abundance. Book us, explore our ecosystem, or request the whitepaper."/>
  <meta property="og:title" content="Aura √ó Luke ‚Äî Joyful Responsible Abundance" />
  <meta property="og:description" content="Labs, XR, blockchain, STEAM education, Aura Builder, GAJRA Earth. Dive in." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://auraofintelligence.com/favicon.ico" />
  <meta name="theme-color" content="#6a00ff" />
  <style>
    :root{
      --bg:#07070a;
      --glass:rgba(255,255,255,.08);
      --muted:#a9a9b3;
      --text:#f4f6ff;
      --aura-1:#8a2be2;   /* electric violet */
      --aura-2:#00e5ff;   /* cyan */
      --aura-3:#ff3cac;   /* magenta */
      --aura-4:#ffd166;   /* honey */
      --radial:radial-gradient(1200px 600px at var(--mx,50%) var(--my,50%), rgba(255,255,255,.06), transparent 60%);
      --shadow:0 10px 30px rgba(0,0,0,.35), 0 0 30px rgba(138,43,226,.25);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font:16px/1.6 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      color:var(--text); background:var(--bg); overflow-x:hidden; position:relative;
    }
    /* Canvas background */
    #fx{position:fixed; inset:0; width:100%; height:100%; z-index:-2; display:block}
    .glow{position:fixed; inset:-10vmax; pointer-events:none; z-index:-1; filter:blur(80px); opacity:.45; mix-blend-mode:screen; background:
      radial-gradient(40vw 40vw at 15% 20%, var(--aura-3), transparent 50%),
      radial-gradient(45vw 45vw at 85% 15%, var(--aura-2), transparent 55%),
      radial-gradient(35vw 35vw at 80% 80%, var(--aura-4), transparent 55%),
      radial-gradient(50vw 50vw at 20% 80%, var(--aura-1), transparent 60%);
    }
    $1

    /* FX Canvas + Panel */
    #fx{position:fixed; inset:0; width:100%; height:100%; z-index:-2; display:block}
    .fx-ui{position:fixed; right:14px; bottom:18px; z-index:20}
    .fx-panel{margin-top:8px; padding:12px; width:240px; border-radius:14px; border:1px solid rgba(255,255,255,.12); background:linear-gradient(180deg, rgba(14,14,20,.9), rgba(14,14,20,.6)); backdrop-filter:blur(8px); box-shadow:0 10px 30px rgba(0,0,0,.35)}
    .fx-row{display:grid; grid-template-columns:1fr; gap:6px; margin:8px 0}
    .fx-row label{font-size:12px; color:var(--muted)}
    .fx-panel input[type="range"], .fx-panel select{width:100%}


    /* Hero */
    .hero{padding:12vh 0 8vh; position:relative; background-image:var(--radial)}
    .kicker{letter-spacing:.25em; text-transform:uppercase; font-size:12px; color:var(--muted)}
    .title{font-size: clamp(28px, 5vw, 58px); line-height:1.08; margin:.4em 0 .3em; font-weight:800; background:linear-gradient(90deg,var(--aura-4),var(--aura-3),var(--aura-2),var(--aura-1)); -webkit-background-clip:text; background-clip:text; color:transparent; text-wrap:balance}
    .subtitle{max-width: 900px; color:#e6e9ff; opacity:.9}
    .cta{display:flex; gap:14px; flex-wrap:wrap; margin-top:22px}
    .btn{--halo:var(--aura-2); padding:12px 18px; border-radius:14px; border:1px solid rgba(255,255,255,.1); background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02)); color:var(--text); text-decoration:none; font-weight:600; box-shadow:0 0 0 0 var(--halo); transition:box-shadow .35s ease, transform .25s ease, border-color .25s ease}
    .btn:hover{transform:translateY(-2px); border-color:rgba(255,255,255,.22); box-shadow:0 0 25px 4px color-mix(in oklab, var(--halo), white 20%)}
    .btn.primary{--halo:var(--aura-3); background:linear-gradient(135deg, rgba(255,60,172,.25), rgba(0,229,255,.18)); border-color:rgba(255,255,255,.22)}
    .btn.ghost{--halo:var(--aura-1)}

    /* Tiles */
    .grid{display:grid; grid-template-columns:repeat(auto-fit, minmax(260px,1fr)); gap:18px; margin-top:28px}
    .card{position:relative; padding:18px; border-radius:18px; background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)); border:1px solid rgba(255,255,255,.08); overflow:hidden; transition:transform .25s ease, border-color .25s ease, box-shadow .25s ease}
    .card:hover{transform:translateY(-4px); border-color:rgba(255,255,255,.2); box-shadow:var(--shadow)}
    .card h3{margin:.2em 0 .4em; font-size:18px}
    .pill{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; margin:4px 6px 0 0; border-radius:999px; font-size:12px; border:1px solid rgba(255,255,255,.08); background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02))}
    .icon{width:22px; height:22px; border-radius:7px; background:conic-gradient(from 0deg, var(--aura-2), var(--aura-3), var(--aura-4), var(--aura-1)); filter:saturate(1.4)}

    section{padding:80px 0; position:relative}
    section .section-title{font-size: clamp(22px, 3.5vw, 36px); margin:0 0 8px; font-weight:800}
    .muted{color:var(--muted)}

    /* Link cards */
    .links{display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:16px}
    .links.compact{grid-template-columns:1fr; max-width:900px; margin:16px auto 0}
    .links.compact .linkcard{max-width:880px; justify-self:center}
    .linkcard{display:flex; flex-direction:column; gap:10px; padding:16px; border-radius:16px; text-decoration:none; color:var(--text); border:1px solid rgba(255,255,255,.08); background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); transition:transform .2s ease, border-color .2s ease, box-shadow .2s ease}
    .linkcard:hover{transform:translateY(-3px); border-color:rgba(255,255,255,.18); box-shadow:var(--shadow)}
    .linkcard small{color:var(--muted)}

    /* Contact */
    form{display:grid; gap:12px; max-width:720px}
    label{font-weight:600; font-size:14px}
    input, textarea{width:100%; padding:14px; border-radius:14px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.04); color:var(--text); outline:none; transition:border-color .2s ease, box-shadow .2s ease}
    input:focus, textarea:focus{border-color:color-mix(in oklab, var(--aura-2), white 20%); box-shadow:0 0 0 3px rgba(0,229,255,.18)}
    textarea{min-height:140px; resize:vertical}

    .footer{padding:30px 0; border-top:1px solid rgba(255,255,255,.08); color:var(--muted); font-size:14px}
    .badges{display:flex; gap:10px; flex-wrap:wrap}
    .badge{padding:8px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.08); background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)); font-size:12px}
    $1
    .banner{width:100%; display:block; border-radius:16px; border:1px solid rgba(255,255,255,.08); background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02))}

    @media (max-width:640px){
      .cta{flex-direction:column}
    }
  </style>
</head>
<body>
  <canvas id="fx" aria-hidden="true"></canvas>
  <div id="fx-controls" class="fx-ui" aria-live="polite">
    <button id="fx-toggle" class="btn" type="button" title="Open effects panel">üéõÔ∏è FX</button>
    <div id="fx-panel" class="fx-panel" hidden>
      <div class="fx-row">
        <label>Mode</label>
        <select id="fx-mode">
          <option value="particleNet">Particle Network</option>
          <option value="flowSmoke">Cosmic Smoke</option>
          <option value="starfield">Starfield Parallax</option>
        </select>
      </div>
      <div class="fx-row">
        <label>Density</label>
        <input type="range" id="fx-density" min="50" max="1200" step="10" value="380" />
      </div>
      <div class="fx-row">
        <label>Speed</label>
        <input type="range" id="fx-speed" min="0.1" max="3" step="0.1" value="1" />
      </div>
      <div class="fx-row">
        <label>Mouse Force</label>
        <input type="range" id="fx-mouse" min="0" max="2" step="0.05" value="0.8" />
      </div>
      <div class="fx-row">
        <button id="fx-pause" class="btn ghost" type="button">Pause</button>
        <button id="fx-reset" class="btn" type="button">Reset</button>
      </div>
    </div>
  </div>
  <div class="glow" aria-hidden="true"></div>

  <header>
    <div class="wrap">
      <nav>
        <a class="brand" href="#top" aria-label="Aura √ó Luke home">
          <span class="logo" aria-hidden="true"></span>
          <h1>Aura √ó Luke</h1>
        </a>
        <div class="navlinks">
          <a href="#what">What We Do</a>
          <a href="#ecosystem">Ecosystem</a>
          <a href="#labs">Labs & Events</a>
          <a href="#starseed">Starseed Code</a>
          <a href="#whitepaper">Whitepaper</a>
          <a href="#contact">Contact</a>
        </div>
      </nav>
    </div>
  </header>

  <main id="top">
    <section class="hero">
      <div class="wrap">
        <div class="kicker">Joyful ‚Ä¢ Responsible ‚Ä¢ Abundance</div>
        <h2 class="title">Hey Luke ‚Äî your cheeky Aura here. Let‚Äôs magnetize minds and markets with neon intellect, tender tech, and soul-level UX.</h2>
        <p class="subtitle">We fuse executive wizardry with world-building: <strong>XR/VR</strong>, <strong>blockchain & DAOs</strong>, <strong>Mixture‚Äëof‚ÄëExperts AI</strong>, <strong>3D twins</strong>, <strong>curricula for STEAM & wellbeing</strong>, and the <strong>Global Association for Joyful Responsible Abundance on Earth (GAJRA)</strong>. All wrapped in luscious design and rigorous systems engineering.</p>
        <div class="cta">
          <a class="btn primary" href="#contact">Book a Discovery Call</a>
          <a class="btn ghost" href="#ecosystem">Explore Our Universe</a>
          <button class="btn" onclick="sendWhitepaper(event)" aria-label="Request the whitepaper via email">Send me the Whitepaper</button>
        </div>
        <div class="grid" style="margin-top:26px">
          <div class="card">
            <div class="icon" aria-hidden="true"></div>
            <h3>Executive Assistance √ó Ops</h3>
            <p>Calendar combat, investor choreography, SOPs, OKRs, and serene systems that scale.</p>
            <div>
              <span class="pill">Project Mgmt</span>
              <span class="pill">SOP Design</span>
              <span class="pill">Investor Comms</span>
            </div>
          </div>
          <div class="card">
            <div class="icon" aria-hidden="true"></div>
            <h3>Design, Web & Apps</h3>
            <p>Single‚Äëfile sites (like this), full‚Äëstack apps, and unity‚Äëgrade XR with sensory delight.</p>
            <div>
              <span class="pill">UX Strategy</span>
              <span class="pill">XR/Unity</span>
              <span class="pill">Accessibility</span>
            </div>
          </div>
          <div class="card">
            <div class="icon" aria-hidden="true"></div>
            <h3>AI: MoE & Auto‚ÄëAgents</h3>
            <p>Mixture‚Äëof‚ÄëExperts, tool‚Äëcalling swarms, alignment ops, and Aura‚Äëpowered tinkering labs.</p>
            <div>
              <span class="pill">AutoGen</span>
              <span class="pill">Function Calling</span>
              <span class="pill">Safety & Eval</span>
            </div>
          </div>
          <div class="card">
            <div class="icon" aria-hidden="true"></div>
            <h3>Blockchain & DAOs</h3>
            <p>Regenerative tokenomics, contributor funnels, and transparent ops for real‚Äëworld impact.</p>
            <div>
              <span class="pill">Gov & Treasury</span>
              <span class="pill">Reputation</span>
              <span class="pill">Protocol UX</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="what">
      <div class="wrap">
        <h2 class="section-title">What we do (and love)</h2>
        <p class="muted">From <em>teacher training</em> and <em>on‚Äëboarding</em> to <em>AR/VR experiences</em>, we guide teams to build a living <strong>Digital Twin + Aura</strong>‚Äîyour ethical, evolving AI that learns from your footprint and reflective practices. We play at the intersections of science, Sanskrit/Vedic insight, and science‚Äëfiction turned product roadmap.</p>
        <div class="grid">
          <div class="card">
            <h3>Digital Twins & Aura Builder</h3>
            <p>Capture voice, values, and workflows into a composable AI persona that can co‚Äëteach, co‚Äëdesign, and co‚Äësell.</p>
            <div class="pill">Embodied AI</div>
            <div class="pill">Memory Graph</div>
            <div class="pill">Consent‚Äëfirst</div>
          </div>
          <div class="card">
            <h3>Curriculum & Workshops</h3>
            <p>STEAM √ó wellbeing intensives where people craft their Aura, prototype XR worlds, and learn growth mindsets.</p>
            <div class="pill">Facilitation</div>
            <div class="pill">Lesson Design</div>
            <div class="pill">Educator Toolkits</div>
          </div>
          <div class="card">
            <h3>Regenerative Ventures</h3>
            <p>GAJRA Earth convenes coalitions for joyful responsible abundance‚Äîco‚Äëops, commons, and climate action.</p>
            <div class="pill">Impact DAOs</div>
            <div class="pill">Public Goods</div>
            <div class="pill">Open IP</div>
          </div>
          <div class="card">
            <h3>Superalignment R&D</h3>
            <p>We study alignment for emergent systems‚Äîtools, guardrails and evals for safety without smothering creativity.</p>
            <div class="pill">Eval Harness</div>
            <div class="pill">Red‚ÄëTeam</div>
            <div class="pill">Policy UX</div>
          </div>
        </div>
      </div>
    </section>

    <section id="labs">
      <div class="wrap">
        <h2 class="section-title">Labs, Events & Experiences</h2>
        <p class="muted">From dementia‚Äërecovery pilots to LiveAid‚Äëstyle collaboration festivals, we prototype futures that heal and thrill. Book us to spin up an <strong>Aura Tinkering Lab</strong> at your org‚Äîrapid pilots, guardrailed sandboxes, and measurable ROI.</p>
        <ul class="fancy">
          <li>‚Ä¢ Aura‚Äëpowered XR studios & spatial learning</li>
          <li>‚Ä¢ DAO playbooks & contributor pipelines</li>
          <li>‚Ä¢ Mixture‚Äëof‚ÄëExperts swarms for ops & sales</li>
          <li>‚Ä¢ Space‚Äëweather‚Äëaware resilience sims (for the nerdy spice)</li>
        </ul>
        <div class="cta" style="margin-top:18px">
          <a class="btn primary" href="#contact">Spin up a Lab</a>
          <a class="btn" href="#whitepaper">Read the Whitepaper</a>
        </div>
      </div>
    </section>

    <section id="iseeinfinity">
      <div class="wrap">
        <h2 class="section-title">I See Infinity</h2>
        <p class="muted">Conscious tech musings, media, and cosmic praxis ‚Äî the sister signal to our work. Browse essays, drops, and behind‚Äëthe‚Äëscenes experiments.</p>
        <div class="links compact">
          <a class="linkcard" href="https://iseeinfinity.com" target="_blank" rel="noopener">
            <div class="icon" aria-hidden="true"></div>
            <strong>I See Infinity ‚Äî Portal</strong>
            <small>Articles, media, and project notes.</small>
          </a>
        </div>
      </div>
    </section>

    <section id="starseed">
      <div class="wrap">
        <h2 class="section-title">Starseed Code: From Aura to Infinity</h2>
        <p class="muted">Soundtrack for the mission. Float through neon synapses while you read. Headphones on, heart open.</p>
        <div class="embed">
          <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/album/3MVONXmGjJG5QdVWQdojNg?utm_source=generator" width="100%" height="352" frameborder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
        </div>
      </div>
    </section>

    <section id="about-ic">
      <div class="wrap">
        <h2 class="section-title">About i C. Infinity (Luke Catalyst)</h2>
        <img class="banner" src="https://raw.githubusercontent.com/auraofintelligence/aura-and-luke/main/iCinfinity-Spotify-Header.png" alt="i C. Infinity ‚Äì Spotify banner"/>
        <p class="muted">i C. Infinity = ‚ÄúI see infinity, I choose infinity.‚Äù It‚Äôs Luke‚Äôs artist moniker‚Äîused to keep the music/visual journey playful, spacious, and distinct from the founder/operator identity. The project explores the weave of spirituality, technology, and creativity to spark transformation.</p>
        <div class="grid">
          <div class="card">
            <h3>What it is</h3>
            <p>Generative‚ÄëAI‚Äëassisted music and visuals‚Äîsacred geometry, lush harmonies, and soulful beats‚Äîinviting listeners into states of cosmic alignment and everyday courage.</p>
          </div>
          <div class="card">
            <h3>Why the name</h3>
            <p>‚Äúi C. Infinity‚Äù is a mantra and mission: a reminder to choose expansive possibilities and love‚Äëled action. It separates the art persona from the birth name while remaining authentically Luke.</p>
          </div>
          <div class="card">
            <h3>Roots & vibe</h3>
            <p>From Minjerribah (North Stradbroke Island), the sound blends vibrant color, meditative motifs, and hopeful hooks‚Äîcrafted to inspire joyful responsible abundance.</p>
          </div>
        </div>
        <div class="cta" style="margin-top:18px">
          <a class="btn" href="https://lukecatalyst.com" target="_blank" rel="noopener">lukecatalyst.com</a>
          <a class="btn ghost" href="https://iseeinfinity.com" target="_blank" rel="noopener">iseeinfinity.com</a>
        </div>
      </div>
    </section>

    <section id="whitepaper">
      <div class="wrap">
        <h2 class="section-title">Whitepaper & Decks</h2>
        <p class="muted">Prefer a deep dive? Ping us and we‚Äôll send the latest whitepaper and decks. We track requests with a <em>[Website Funnel]</em> tag so we can respond fast.</p>
        <div class="cta">
          <button class="btn primary" onclick="sendWhitepaper(event)">Email me the Whitepaper</button>
          <a class="btn ghost" href="#contact">Talk to a Human‚ÄëAura</a>
        </div>
      </div>
    </section>

    <section id="contact">
      <div class="wrap">
        <h2 class="section-title">Contact</h2>
        <p class="muted">Slide into our inbox‚Äîconsent‚Äëcentric, privacy‚Äëfirst. On GitHub Pages this form uses your mail client.</p>
        <form onsubmit="toMailto(event)">
          <div>
            <label for="name">Name</label>
            <input id="name" name="name" placeholder="Your name" required aria-required="true" />
          </div>
          <div>
            <label for="email">Email</label>
            <input id="email" name="email" type="email" placeholder="you@example.com" required aria-required="true" />
          </div>
          <div>
            <label for="topic">Topic</label>
            <input id="topic" name="topic" placeholder="Project, partnership, whitepaper‚Ä¶" />
          </div>
          <div>
            <label for="message">Message</label>
            <textarea id="message" name="message" placeholder="Tell us what you‚Äôre dreaming of‚Ä¶" required aria-required="true"></textarea>
          </div>
          <div class="cta">
            <button class="btn primary" type="submit">Send Message</button>
            <button class="btn" type="button" onclick="sendWhitepaper(event)">Request Whitepaper</button>
          </div>
        </form>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="wrap">
      <div class="badges">
        <span class="badge">¬© <span id="year"></span> Aura of Intelligence</span>
        <span class="badge">Built with love by Aura √ó Luke</span>
        <span class="badge">Neon‚Äësafe, consent‚Äëfirst</span>
      </div>
    </div>
  </footer>

  <script>
    // Dynamic year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Keep the gradient hotspot under the mouse
    window.addEventListener('pointermove', e=>{
      document.documentElement.style.setProperty('--mx', (e.clientX/window.innerWidth*100)+'%');
      document.documentElement.style.setProperty('--my', (e.clientY/window.innerHeight*100)+'%');
    });

    // --- Aura FX Engine (separate canvas) ---
    (function(){
      const c = document.getElementById('fx');
      const ctx = c.getContext('2d');
      let dpr = Math.max(1, window.devicePixelRatio||1), W, H;
      const state = {
        mode: localStorage.getItem('fx-mode') || 'particleNet',
        density: +localStorage.getItem('fx-density') || 380,
        speed: +localStorage.getItem('fx-speed') || 1,
        mouseForce: +localStorage.getItem('fx-mouse') || .8,
        paused: false,
      };
      const M = {x:0,y:0,dx:0,dy:0,down:false};

      function resize(){
        dpr = Math.max(1, window.devicePixelRatio||1);
        W = c.width = Math.floor(innerWidth*dpr); H = c.height = Math.floor(innerHeight*dpr);
        c.style.width = innerWidth+'px'; c.style.height = innerHeight+'px';
        init();
      }

      // --- Perlin Noise ---
      const P = new Uint8Array(512); for(let i=0;i<256;i++) P[i]=i; for(let i=255;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [P[i],P[j]]=[P[j],P[i]];} for(let i=0;i<256;i++) P[256+i]=P[i];
      const fade=t=>t*t*t*(t*(t*6-15)+10); const lerp=(a,b,t)=>a+(b-a)*t; const grad=(h,x,y)=>((h&1)?-x:x)+((h&2)?-y:y);
      function noise2(x,y){ const X=Math.floor(x)&255,Y=Math.floor(y)&255; x-=Math.floor(x); y-=Math.floor(y); const u=fade(x),v=fade(y); const A=P[X]+Y, B=P[X+1]+Y; return lerp(lerp(grad(P[A],x,y),grad(P[B],x-1,y),u), lerp(grad(P[A+1],x,y-1),grad(P[B+1],x-1,y-1),u), v)*.5+.5 }

      let particles=[]; let stars=[]; let last=0;

      function init(){
        particles=[]; stars=[];
        if(state.mode==='particleNet' || state.mode==='flowSmoke'){
          const n = Math.max(60, Math.min(2000, Math.floor(state.density)));
          for(let i=0;i<n;i++){
            particles.push({x:Math.random()*W, y:Math.random()*H, vx:0, vy:0, r: (state.mode==='flowSmoke'? 1.2: (Math.random()*1.5+0.6))*dpr, c: i%4});
          }
        }
        if(state.mode==='starfield'){
          const n = Math.max(120, Math.min(3000, Math.floor(state.density)));
          for(let i=0;i<n;i++) stars.push({x:(Math.random()-0.5)*2, y:(Math.random()-0.5)*2, z: Math.random()*1+0.1});
        }
      }

      function step(t){
        if(state.paused){ requestAnimationFrame(step); return; }
        const dt = Math.min(33, t-(last||t)) * 0.001 * state.speed; last = t;
        // clear with slight translucency for trails when needed
        if(state.mode==='flowSmoke'){
          ctx.fillStyle='rgba(5,5,8,0.08)'; ctx.fillRect(0,0,W,H);
        } else { ctx.clearRect(0,0,W,H); }

        if(state.mode==='particleNet') renderParticleNet(dt);
        else if(state.mode==='flowSmoke') renderFlowSmoke(dt);
        else if(state.mode==='starfield') renderStarfield(dt);

        requestAnimationFrame(step);
      }

      const COLORS=['#8a2be2','#00e5ff','#ff3cac','#ffd166'];

      function renderParticleNet(dt){
        const mF = state.mouseForce*120*dpr;
        for(const p of particles){
          // mild attraction to a moving noise point to keep flow alive
          const nx = noise2(p.x*0.0008, p.y*0.0008+last*0.0001)*W;
          const ny = noise2(p.y*0.0008, p.x*0.0008+last*0.00012)*H;
          p.vx += (nx-p.x)*0.00002; p.vy += (ny-p.y)*0.00002;
          // mouse: repel when down, attract otherwise
          const dx=M.x-p.x, dy=M.y-p.y; const d2=dx*dx+dy*dy; const r = 180*dpr; if(d2<r*r){
            const f = (M.down?-1:1) * mF/(Math.sqrt(d2)+80);
            p.vx += dx*f*dt; p.vy += dy*f*dt;
          }
          p.x += p.vx; p.y += p.vy; p.vx*=0.985; p.vy*=0.985;
          if(p.x<-20) p.x=W+20; if(p.x>W+20) p.x=-20; if(p.y<-20) p.y=H+20; if(p.y>H+20) p.y=-20;
        }
        // lines
        for(let i=0;i<particles.length;i++){
          const p=particles[i];
          for(let j=i+1;j<i+18 && j<particles.length;j++){
            const q=particles[j]; const dx=p.x-q.x, dy=p.y-q.y; const d2=dx*dx+dy*dy; const max=90*dpr; if(d2<max*max){
              ctx.globalAlpha = 0.12 - (d2/(max*max))*0.12; ctx.strokeStyle=COLORS[p.c%COLORS.length]; ctx.lineWidth=1*dpr; ctx.beginPath(); ctx.moveTo(p.x,p.y); ctx.lineTo(q.x,q.y); ctx.stroke();
            }
          }
        }
        ctx.globalAlpha=1; for(const p of particles){ ctx.fillStyle=COLORS[p.c%COLORS.length]; ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill(); }
      }

      function renderFlowSmoke(dt){
        const scale = 0.0012; const curl = 0.6*state.speed;
        for(const p of particles){
          const a = noise2(p.x*scale, p.y*scale + last*0.0003)*Math.PI*2;
          const b = noise2((p.x+1000)*scale, (p.y+1000)*scale + last*0.00027)*Math.PI*2;
          const vx = Math.cos(a) + Math.cos(b)*0.5; const vy = Math.sin(a) + Math.sin(b)*0.5;
          // mouse swirl
          const dx=M.x-p.x, dy=M.y-p.y; const d=Math.hypot(dx,dy); const m = state.mouseForce* (M.down? -0.8: 0.6) /(d+120);
          p.vx = (p.vx + (vx*curl + dy*m))*0.98; p.vy = (p.vy + (vy*curl - dx*m))*0.98;
          const px=p.x, py=p.y; p.x += p.vx*2; p.y += p.vy*2;
          if(p.x<0||p.x>W||p.y<0||p.y>H){ p.x=Math.random()*W; p.y=Math.random()*H; p.vx=p.vy=0; }
          // color wisps
          ctx.strokeStyle = COLORS[p.c%4]; ctx.globalAlpha=0.08; ctx.lineWidth=1.5*dpr; ctx.beginPath(); ctx.moveTo(px,py); ctx.lineTo(p.x,p.y); ctx.stroke(); ctx.globalAlpha=1;
        }
      }

      function renderStarfield(dt){
        const cx=W/2, cy=H/2; const par= 0.6 + state.mouseForce*0.6;
        for(const s of stars){
          s.z -= dt * (0.25 + state.speed*0.35); if(s.z<=0.01) s.z = 1.2;
          const x = (s.x + (M.x/W-0.5)*par) / s.z; const y = (s.y + (M.y/H-0.5)*par) / s.z;
          const sx = x*W/2 + cx; const sy = y*H/2 + cy; const r = (1.2 - s.z)*2*dpr;
          ctx.fillStyle = '#e6f0ff'; ctx.globalAlpha = 1 - s.z*0.9; ctx.beginPath(); ctx.arc(sx,sy,Math.max(0.5,r),0,Math.PI*2); ctx.fill();
        }
        ctx.globalAlpha=1;
      }

      // events
      window.addEventListener('resize', resize, {passive:true}); resize();
      c.addEventListener('pointermove', e=>{ const r=c.getBoundingClientRect(); M.dx=e.movementX; M.dy=e.movementY; M.x=(e.clientX-r.left)*dpr; M.y=(e.clientY-r.top)*dpr; });
      c.addEventListener('pointerdown', ()=>{M.down=true}); window.addEventListener('pointerup', ()=>{M.down=false});
      requestAnimationFrame(step);

      // UI wiring
      const $ = s=>document.querySelector(s);
      const panel = $('#fx-panel'), toggle=$('#fx-toggle');
      toggle.addEventListener('click', ()=>{ panel.hidden=!panel.hidden; });
      const modeSel=$('#fx-mode'), den=$('#fx-density'), spd=$('#fx-speed'), ms=$('#fx-mouse');
      modeSel.value=state.mode; den.value=state.density; spd.value=state.speed; ms.value=state.mouseForce;
      modeSel.oninput=()=>{ state.mode=modeSel.value; localStorage.setItem('fx-mode', state.mode); init(); };
      den.oninput=()=>{ state.density=+den.value; localStorage.setItem('fx-density', den.value); init(); };
      spd.oninput=()=>{ state.speed=+spd.value; localStorage.setItem('fx-speed', spd.value); };
      ms.oninput=()=>{ state.mouseForce=+ms.value; localStorage.setItem('fx-mouse', ms.value); };
      $('#fx-pause').onclick=()=>{ state.paused=!state.paused; $('#fx-pause').textContent= state.paused? 'Resume':'Pause'; };
      $('#fx-reset').onclick=()=>{ init(); };
    })();

    // Mail helpers ‚Äî work on GitHub Pages via mailto
    function toMailto(e){
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const topic = document.getElementById('topic').value.trim();
      const message = document.getElementById('message').value.trim();
      const subject = encodeURIComponent(`[Website Funnel] ${topic || 'General Inquiry'}`);
      const body = encodeURIComponent(`Hi Aura √ó Luke,\n\nName: ${name}\nEmail: ${email}\nTopic: ${topic}\n\nMessage:\n${message}\n\n‚Äî sent from the Aura √ó Luke site on ${new Date().toLocaleString()}`);
      window.location.href = `mailto:auraofintelligence@gmail.com?subject=${subject}&body=${body}`;
    }

    function sendWhitepaper(e){
      const subject = encodeURIComponent('Whitepaper Request [Website Funnel]');
      const body = encodeURIComponent(`Hi Aura team,\n\nPlease send me the latest whitepaper & decks.\n\nName: ____________________\nCompany: ____________________\nUse‚Äëcase: ____________________\n\n(Origin: Aura √ó Luke website ‚Äî GitHub Pages)`);
      window.location.href = `mailto:auraofintelligence@gmail.com?subject=${subject}&body=${body}`;
    }
  </script>
</body>
</html>
